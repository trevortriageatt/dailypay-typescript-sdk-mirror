/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../lib/primitives.js";
import { ClosedEnum } from "../types/enums.js";

/**
 * The subtype of the account. Additional subtypes may be added over time
 */
export const AccountCreateAttributesCardSubtype = {
  Debit: "DEBIT",
  Dailypay: "DAILYPAY",
} as const;
/**
 * The subtype of the account. Additional subtypes may be added over time
 */
export type AccountCreateAttributesCardSubtype = ClosedEnum<
  typeof AccountCreateAttributesCardSubtype
>;

/**
 * The banking details of the account and account holder.
 */
export type CreateCardAccountDetails = {
  /**
   * A tokenized string replacement for the card data.
   */
  token: string;
  /**
   * The first name of the account holder.
   */
  firstName: string;
  /**
   * The last name of the account holder.
   */
  lastName: string;
  /**
   * The month of the expiration date for the card.
   */
  expirationMonth: string;
  /**
   * The year of the expiration date for the card.
   */
  expirationYear: string;
  /**
   * The first line of the address for the card.
   */
  addressLineOne: string;
  /**
   * The second line of the address for the card.
   */
  addressLineTwo?: string | undefined;
  /**
   * The city of the address for the card.
   */
  addressCity: string;
  /**
   * The two-letter abbreviation of the state in the address for the card.
   */
  addressState: string;
  /**
   * The zip code of the address for the card.
   */
  addressZipCode: string;
  /**
   * The country code of the address for the card.
   */
  addressCountry: string;
  /**
   * The issuer of the card.
   */
  issuer: string;
};

/**
 * An account with type `CARD` and subtype `DAILYPAY` or `DEBIT`.
 */
export type AccountCreateAttributesCard = {
  /**
   * Display name for this account.
   */
  name: string;
  /**
   * The type of account. It differentiates between depository accounts (e.g. bank account), cards (e.g. debit) and earnings balance type of accounts (e.g. on demand pay).
   */
  accountType: "CARD";
  /**
   * The subtype of the account. Additional subtypes may be added over time
   */
  subtype: AccountCreateAttributesCardSubtype;
  /**
   * The banking details of the account and account holder.
   */
  createCardAccountDetails: CreateCardAccountDetails;
};

/** @internal */
export const AccountCreateAttributesCardSubtype$outboundSchema: z.ZodNativeEnum<
  typeof AccountCreateAttributesCardSubtype
> = z.nativeEnum(AccountCreateAttributesCardSubtype);

/** @internal */
export type CreateCardAccountDetails$Outbound = {
  token: string;
  first_name: string;
  last_name: string;
  expiration_month: string;
  expiration_year: string;
  address_line_one: string;
  address_line_two?: string | undefined;
  address_city: string;
  address_state: string;
  address_zip_code: string;
  address_country: string;
  issuer: string;
};

/** @internal */
export const CreateCardAccountDetails$outboundSchema: z.ZodType<
  CreateCardAccountDetails$Outbound,
  z.ZodTypeDef,
  CreateCardAccountDetails
> = z.object({
  token: z.string(),
  firstName: z.string(),
  lastName: z.string(),
  expirationMonth: z.string(),
  expirationYear: z.string(),
  addressLineOne: z.string(),
  addressLineTwo: z.string().optional(),
  addressCity: z.string(),
  addressState: z.string(),
  addressZipCode: z.string(),
  addressCountry: z.string(),
  issuer: z.string(),
}).transform((v) => {
  return remap$(v, {
    firstName: "first_name",
    lastName: "last_name",
    expirationMonth: "expiration_month",
    expirationYear: "expiration_year",
    addressLineOne: "address_line_one",
    addressLineTwo: "address_line_two",
    addressCity: "address_city",
    addressState: "address_state",
    addressZipCode: "address_zip_code",
    addressCountry: "address_country",
  });
});

export function createCardAccountDetailsToJSON(
  createCardAccountDetails: CreateCardAccountDetails,
): string {
  return JSON.stringify(
    CreateCardAccountDetails$outboundSchema.parse(createCardAccountDetails),
  );
}

/** @internal */
export type AccountCreateAttributesCard$Outbound = {
  name: string;
  account_type: "CARD";
  subtype: string;
  details: CreateCardAccountDetails$Outbound;
};

/** @internal */
export const AccountCreateAttributesCard$outboundSchema: z.ZodType<
  AccountCreateAttributesCard$Outbound,
  z.ZodTypeDef,
  AccountCreateAttributesCard
> = z.object({
  name: z.string(),
  accountType: z.literal("CARD"),
  subtype: AccountCreateAttributesCardSubtype$outboundSchema,
  createCardAccountDetails: z.lazy(() =>
    CreateCardAccountDetails$outboundSchema
  ),
}).transform((v) => {
  return remap$(v, {
    accountType: "account_type",
    createCardAccountDetails: "details",
  });
});

export function accountCreateAttributesCardToJSON(
  accountCreateAttributesCard: AccountCreateAttributesCard,
): string {
  return JSON.stringify(
    AccountCreateAttributesCard$outboundSchema.parse(
      accountCreateAttributesCard,
    ),
  );
}
